<!doctype html><html lang=ja-jp><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.85.0"><title>Google HomeとNature Remoでエアコンのタイマーを快適にセットする - 1ミリもわからん</title><link rel=canonical href=https://raahii.github.io/posts/aircon-timer-with-google-home-and-nature-remo/><link href=https://raahii.github.io/favicon.ico rel=icon type=image/x-icon><meta property="description" content="Google HomeとNature Remoを活用してエアコンの入タイマーをかんたんに設定する"><meta property="keywords" content="エアコン, タイマー, Nature Remo, エアコンタイマー, Google Home, スマートスピーカー, 入タイマー"><meta property="og:title" content="Google HomeとNature Remoでエアコンのタイマーを快適にセットする"><meta property="og:description" content="Google HomeとNature Remoを活用してエアコンの入タイマーをかんたんに設定する"><meta property="og:type" content="article"><meta property="og:url" content="https://raahii.github.io/posts/aircon-timer-with-google-home-and-nature-remo/"><meta property="og:image" content="https://raahii.github.io/images/2019/aircon/thumb.jpg"><meta property="article:section" content="post"><meta property="article:published_time" content="2019-12-26T09:52:39+09:00"><meta property="article:modified_time" content="2019-12-26T09:52:39+09:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://raahii.github.io/images/2019/aircon/thumb.jpg"><meta name=twitter:title content="Google HomeとNature Remoでエアコンのタイマーを快適にセットする"><meta name=twitter:description content="Google HomeとNature Remoを活用してエアコンの入タイマーをかんたんに設定する"><link rel=icon href=https://raahii.github.io/images/favicon.ico type=image/x-icon><link rel=stylesheet href=https://raahii.github.io/css/main.css media=all><link rel=stylesheet href="//fonts.googleapis.com/css?family=Merriweather:400|Lato:400,400italic,700"></head><body><div class=wrapper><header class=header><nav class=nav><a href=https://raahii.github.io/ class=nav-logo><img src=https://raahii.github.io/images/bird.svg width=45 height=45 alt=Logo><p class=nav-title>1ミリもわからん</p></a><ul class=nav-links><li><a href=/tags/>Tags</a></li><li><a href=/about/>About</a></li><li><a href=https://github.com/raahii target=_blank>GitHub</a></li><li><a href=https://twitter.com/raahiiy target=_blank>Twitter</a></li></ul></nav></header><main class=content role=main><article class=article><h1 class=article-title>Google HomeとNature Remoでエアコンのタイマーを快適にセットする</h1><span class=article-date>December 26, 2019</span>
<span class=article-duration>2 min read</span><ul class="cp_tag01 article-categories">Categories:<li><a href=/categories/%E6%8A%80%E8%A1%93/>技術</a></li></ul><ul class="cp_tag01 article-tags">Tags:<li><a href=/tags/nature-remo/>nature remo</a></li><li><a href=/tags/google-home/>google home</a></li><li><a href=/tags/home-automation/>home automation</a></li><li><a href=/tags/aws/>aws</a></li><li><a href=/tags/golang/>golang</a></li></ul><div class=article-content><video src=/images/2019/aircon/demo.mov loading=lazy width=100% controls muted style="margin:30px 0 10px"><p>動画を再生するにはvideoタグをサポートしたブラウザが必要です。</p></video><h2 id=はじめに>はじめに</h2><p>この時期になると朝寒くてお布団から出るのが辛いですね…．せっかく一度目を覚ましたのに部屋が寒すぎてエアコンを付けて二度寝…．あるあるです．</p><p>なので我々はエアコンのタイマーをセットしますね．でもこのタイマーがちょいと曲者．</p><ol><li>まず明日何時に起きるかを考えて…</li><li>今から逆算して何時間後かを計算して…</li><li>入タイマーボタンを何度も押してその時間をセット</li></ol><p>と機種によりますが大体こんな感じ．すごく面倒．</p><p>これ本当は「明日○時にエアコン付けて」のワンステップで良くないですか？</p><p>というか…何か変ですよね…</p><div style=text-align:center><figure style="margin:30px 0"><img loading=lazy src="https://stat.ameba.jp/user_images/20191023/10/nomu222/27/2c/j/o0605035114621804625.jpg?caw=400" alt width=60%><figcaption>この時代にもなって人間が時間を逆算…？ボタンを何度も…押す…！？</figcaption></figure></div><p>由々しき事態です．</p><h2 id=エアコンの入タイマーを自動化する>エアコンの入タイマーを自動化する</h2><p>そこで，Google HomeとNature Remoを活用して所望の時間に自動でエアコンをONにする機能を作ります．</p><p>皆さん家電リモコンは持ってますか？外から予め暖房を付けておいたり，行方不明になりがちな部屋のリモコンに代わって電気を付けてくれたり，ベッドで寝落ちするときも部屋の電気を消すのがとっても簡単です．最高なのでぜひ買ってみてください．</p><p>話がそれました．今回作成する機能の大まかな利用ステップは次のとおりです．</p><ol><li>Google Homeに○時にエアコンを付けるように指示を出す．</li><li>○時に処理を走らせ，エアコンを付ける</li></ol><p>さて，1 についてはGoogle Homeのアプリを作成するしかありません．ただ<a href=https://dialogflow.com/>DialogFlow</a>というチャットボット作成用のツールが利用できるので，これを使えばユーザーの音声から時間を取り出すのは難しくはないでしょう．</p><p>次に2です．Nature Remoを用意している時点でエアコンの操作も可能です．APIがあるので，アクセストークンさえ発行すればどこからでも指示を出すことができます．</p><p>問題は「どうやって○時に処理を実行するか」です．簡単なバックエンドのWeb APIを作成して時間を登録＆cronやatコマンドなんかを用いて指定時間に実行…というのをまず考えました．しかしタイマーのためだけに常駐サービスをデプロイするのはやや大げさな感があります．Herokuなどで実現できれば良いですが，そうでなければVPSやEC2を借りる必要がありコストもかかりそうです．</p><p>「なんとかならないものか…」と考えあぐねていたところ，なんと <strong>AWSのStepFunctionsに指定日実行</strong> の機能があるというではありませんか．</p><p>これなら<strong>必要なときに必要な分だけ関数を走らせるサーバーレスアプリとして実装できます</strong>．この程度のアプリなら使った分だけ課金といってもたかが知れているので，良さそうです．AWSさん神！！</p><p>ということでこんなデザインとなりました．</p><div style=text-align:center><figure style="margin:30px 0"><img loading=lazy src=/images/2019/aircon/arch.svg alt width=100%><figcaption></figcaption></figure></div><h2 id=serverless-frameworkで関数を作成>serverless frameworkで関数を作成</h2><p>AWSの諸々のサービスの作成には <a href=https://serverless.com/>serverless framework</a> を使用しました．言語はもちろんGoです．つくるのは大きく分けて3つ．</p><ol><li>タイマーの時間を受け取るLambda Function（及び API Gateway）．</li><li>1の中でキックするStep Functions．指定時間まで待ってからエアコン操作のFunctionを実行する．</li><li>エアコン操作を行うLambda Function．</li></ol><p>まずyaml定義．1に相当する <code>createTimer</code> 関数と3に相当する<code>turnOnAircon</code>関数，最後に2のStepFunctionを定義します．</p><p>ポイントは<code>createTimer</code>関数からStepFunctionsを実行するときに必要なARNを環境変数にセットしてあげること．次に，StepFunctionsがいつまで処理を待つのか（StatesのWaitUntil）を示すタイムスタンプをStateに渡すイベント<code>start_date</code> として動的に設定してあげることです．</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=color:navy>service</span>:<span style=color:#bbb> </span>google-home-aircon-timer<span style=color:#bbb>
</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:navy>plugins</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span>- serverless-step-functions<span style=color:#bbb>
</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:navy>provider</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:navy>name</span>:<span style=color:#bbb> </span>aws<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:navy>runtime</span>:<span style=color:#bbb> </span>go1.x<span style=color:#bbb>
</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:navy>functions</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:navy>createTimer</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:navy>handler</span>:<span style=color:#bbb> </span>bin/create-timer<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:navy>events</span>:<span style=color:#bbb>
</span><span style=color:#bbb>      </span>- <span style=color:navy>http</span>:<span style=color:#bbb>
</span><span style=color:#bbb>          </span><span style=color:navy>path</span>:<span style=color:#bbb> </span>api<span style=color:#bbb>
</span><span style=color:#bbb>          </span><span style=color:navy>method</span>:<span style=color:#bbb> </span>post<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:navy>environment</span>:<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:navy>TurnOnAirconStepFuncARN</span>:<span style=color:#bbb> </span>${self:resources.Outputs.TurnOnAirconStepFunc.Value}<span style=color:#bbb>
</span><span style=color:#bbb>      
</span><span style=color:#bbb>  </span><span style=color:navy>turnOnAircon</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:navy>handler</span>:<span style=color:#bbb> </span>bin/turn-on-aircon<span style=color:#bbb>
</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:navy>stepFunctions</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:navy>stateMachines</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:navy>StateMachine1</span>:<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:navy>name</span>:<span style=color:#bbb> </span>TurnOnAirconStepFunc<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:navy>definition</span>:<span style=color:#bbb>
</span><span style=color:#bbb>        </span><span style=color:navy>StartAt</span>:<span style=color:#bbb> </span>WaitUntil<span style=color:#bbb>
</span><span style=color:#bbb>        </span><span style=color:navy>States</span>:<span style=color:#bbb>
</span><span style=color:#bbb>          </span><span style=color:navy>WaitUntil</span>:<span style=color:#bbb>
</span><span style=color:#bbb>            </span><span style=color:navy>Type</span>:<span style=color:#bbb> </span>Wait<span style=color:#bbb>
</span><span style=color:#bbb>            </span><span style=color:navy>TimestampPath</span>:<span style=color:#bbb> </span>$.start_date<span style=color:#bbb>
</span><span style=color:#bbb>            </span><span style=color:navy>Next</span>:<span style=color:#bbb> </span>Main<span style=color:#bbb>
</span><span style=color:#bbb>          </span><span style=color:navy>Main</span>:<span style=color:#bbb>
</span><span style=color:#bbb>            </span><span style=color:navy>Type</span>:<span style=color:#bbb> </span>Task<span style=color:#bbb>
</span><span style=color:#bbb>            </span><span style=color:navy>Resource</span>:<span style=color:#bbb>
</span><span style=color:#bbb>              </span><span style=color:navy>Fn::GetAtt</span>:<span style=color:#bbb> </span>[turnOnAircon, Arn]<span style=color:#bbb>
</span><span style=color:#bbb>            </span><span style=color:navy>End</span>:<span style=color:#bbb> </span><span style=color:#000;font-weight:700>true</span><span style=color:#bbb>
</span><span style=color:#bbb></span><span style=color:navy>resources</span>:<span style=color:#bbb>
</span><span style=color:#bbb>  </span><span style=color:navy>Outputs</span>:<span style=color:#bbb>
</span><span style=color:#bbb>    </span><span style=color:navy>TurnOnAirconStepFunc</span>:<span style=color:#bbb>
</span><span style=color:#bbb>      </span><span style=color:navy>Value</span>:<span style=color:#bbb>
</span><span style=color:#bbb>        </span><span style=color:navy>Ref</span>:<span style=color:#bbb> </span>TurnOnAirconStepFunc<span style=color:#bbb>
</span></code></pre></div><p>1のハンドラは割愛しますが，これでGoogleHomeの方から指定時間をリクエストするとその時間まで待って関数が実行されるようになりました．</p><p>最後に3でエアコンを操作します．tenntennさんがGoのNature Remo APIのクライアントを公開してくださっているのでそれを利用します．</p><div style=text-align:center><a href=https://github.com/tenntenn/natureremo><figure><img src=/images/2019/aircon/repo.png alt=tenntenn/natureremo width=70%></figure></a></div><p>ハンドラはこんな感じ．NatureRemoを操作するアクセストークンが必要なので，発行した上でSystem ManagerのParameter Storeを使って登録・読み込みを行います．後はエアコンを付けるのみ！NatureRemoがあると外部からのアクセス（固定IPとか）に困らなくて最高ですね．</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#000;font-weight:700>package</span> main

<span style=color:#000;font-weight:700>import</span> (
	<span style=color:#d14>&#34;context&#34;</span>
	<span style=color:#d14>&#34;errors&#34;</span>
	<span style=color:#d14>&#34;fmt&#34;</span>

	<span style=color:#d14>&#34;github.com/aws/aws-lambda-go/lambda&#34;</span>
	<span style=color:#d14>&#34;github.com/aws/aws-sdk-go/aws&#34;</span>
	<span style=color:#d14>&#34;github.com/aws/aws-sdk-go/aws/session&#34;</span>
	<span style=color:#d14>&#34;github.com/aws/aws-sdk-go/service/ssm&#34;</span>
	<span style=color:#d14>&#34;github.com/tenntenn/natureremo&#34;</span>
)

<span style=color:#000;font-weight:700>func</span> <span style=color:#900;font-weight:700>Handler</span>() (<span style=color:#458;font-weight:700>string</span>, <span style=color:#458;font-weight:700>error</span>) {
	<span style=color:#998;font-style:italic>// new client for System Manager
</span><span style=color:#998;font-style:italic></span>	sess <span style=color:#000;font-weight:700>:=</span> session.<span style=color:#900;font-weight:700>Must</span>(session.<span style=color:#900;font-weight:700>NewSession</span>())
	ssmc <span style=color:#000;font-weight:700>:=</span> ssm.<span style=color:#900;font-weight:700>New</span>(sess)
  
	<span style=color:#998;font-style:italic>// get acccess token for NatureRemo from Parameter Store
</span><span style=color:#998;font-style:italic></span>	keyname <span style=color:#000;font-weight:700>:=</span> <span style=color:#d14>&#34;REMO_ACCESS_TOKEN&#34;</span>
	withDecryption <span style=color:#000;font-weight:700>:=</span> <span style=color:#000;font-weight:700>false</span>
	param, err <span style=color:#000;font-weight:700>:=</span> ssmc.<span style=color:#900;font-weight:700>GetParameter</span>(<span style=color:#000;font-weight:700>&amp;</span>ssm.GetParameterInput{
		Name:           aws.<span style=color:#900;font-weight:700>String</span>(keyname),
		WithDecryption: aws.<span style=color:#900;font-weight:700>Bool</span>(withDecryption),
	})
	<span style=color:#000;font-weight:700>if</span> err <span style=color:#000;font-weight:700>!=</span> <span style=color:#000;font-weight:700>nil</span> {
		<span style=color:#000;font-weight:700>return</span> <span style=color:#d14>&#34;&#34;</span>, err
	}
	token <span style=color:#000;font-weight:700>:=</span> <span style=color:#000;font-weight:700>*</span>param.Parameter.Value

	<span style=color:#998;font-style:italic>// new client for NatureRemo
</span><span style=color:#998;font-style:italic></span>	cli <span style=color:#000;font-weight:700>:=</span> natureremo.<span style=color:#900;font-weight:700>NewClient</span>(token)
	ctx <span style=color:#000;font-weight:700>:=</span> context.<span style=color:#900;font-weight:700>Background</span>()

	deviceName <span style=color:#000;font-weight:700>:=</span> <span style=color:#d14>&#34;エアコン&#34;</span>
	operation <span style=color:#000;font-weight:700>:=</span> <span style=color:#d14>&#34;on&#34;</span>

	<span style=color:#998;font-style:italic>// find aircon device
</span><span style=color:#998;font-style:italic></span>	as, err <span style=color:#000;font-weight:700>:=</span> cli.ApplianceService.<span style=color:#900;font-weight:700>GetAll</span>(ctx)
	<span style=color:#000;font-weight:700>if</span> err <span style=color:#000;font-weight:700>!=</span> <span style=color:#000;font-weight:700>nil</span> {
		<span style=color:#000;font-weight:700>return</span> <span style=color:#d14>&#34;&#34;</span>, err
	}

	<span style=color:#000;font-weight:700>var</span> target <span style=color:#000;font-weight:700>*</span>natureremo.Appliance
	<span style=color:#000;font-weight:700>for</span> _, a <span style=color:#000;font-weight:700>:=</span> <span style=color:#000;font-weight:700>range</span> as {
		<span style=color:#000;font-weight:700>if</span> a.Nickname <span style=color:#000;font-weight:700>==</span> deviceName {
			target = a
			<span style=color:#000;font-weight:700>break</span>
		}
	}

	<span style=color:#000;font-weight:700>if</span> target <span style=color:#000;font-weight:700>==</span> <span style=color:#000;font-weight:700>nil</span> {
		<span style=color:#000;font-weight:700>return</span> <span style=color:#d14>&#34;&#34;</span>, errors.<span style=color:#900;font-weight:700>New</span>(fmt.<span style=color:#900;font-weight:700>Sprintf</span>(<span style=color:#d14>&#34;%s not found&#34;</span>, deviceName))
	}

	<span style=color:#998;font-style:italic>// change turn-on/off
</span><span style=color:#998;font-style:italic></span>	settings <span style=color:#000;font-weight:700>:=</span> target.AirConSettings
	<span style=color:#000;font-weight:700>if</span> operation <span style=color:#000;font-weight:700>==</span> <span style=color:#d14>&#34;on&#34;</span> {
		settings.Button = <span style=color:#d14>&#34;&#34;</span>
	} <span style=color:#000;font-weight:700>else</span> {
		settings.Button = <span style=color:#d14>&#34;power-off&#34;</span>
	}

	err = cli.ApplianceService.<span style=color:#900;font-weight:700>UpdateAirConSettings</span>(ctx, target, settings)
	<span style=color:#000;font-weight:700>if</span> err <span style=color:#000;font-weight:700>!=</span> <span style=color:#000;font-weight:700>nil</span> {
		<span style=color:#000;font-weight:700>return</span> <span style=color:#d14>&#34;&#34;</span>, err
	}

	<span style=color:#000;font-weight:700>return</span> <span style=color:#d14>&#34;&#34;</span>, <span style=color:#000;font-weight:700>nil</span>
}

<span style=color:#000;font-weight:700>func</span> <span style=color:#900;font-weight:700>main</span>() {
	lambda.<span style=color:#900;font-weight:700>Start</span>(Handler)
}
</code></pre></div><p>これでバックエンドのサーバーは終わりです．コードは下記に置きました．</p><div style=text-align:center><a href=https://github.com/raahii/air-conditioner-timer><figure><img src=/images/2019/aircon/repo2.png alt=raahii/air-conditioner-timer width=70%></figure></a></div><p>残るはインターフェースです．</p><h2 id=dialogflowでgoogle-homeアプリを作成>DialogFlowでGoogle Homeアプリを作成</h2><p>最後にここが地味に面倒くさかったのですが，Google Homeアプリを作ります．<a href=https://www.moyashi-koubou.com/blog/make_google_home_app_2018/>はじめてのGoogle Homeアプリ開発（WebAPI連携/2018年春編）</a>を参考にさせていただきました．</p><p>細かいことを書いてもあれなのでざっくりとですが，</p><ol><li>Actions on Googleのプロジェクトを作成</li><li>DialogFlowで動作を作成<ol><li>Intentと呼ばれる入力を定義する部分で，この機能を呼び出す文言と，時刻の聞き取りを定義</li><li>FulfillmentでWebhookを定義し，聞き取った時刻を先のAWSのエンドポイントにPOSTで送信</li><li>Google AsistantとのIntegrationを設定</li></ol></li><li>Simulatorでテスト</li></ol><p>という手順を踏みました．記事ではアプリを審査に出して公開までしていますが，Google Homeに設定しているGoogleアカウントでアプリを開発すれば，公開しなくても手元のデバイスで動かす事ができました！</p><p>Simulatorで確認してみます．時間を教えると自動的に直近の日時を解釈してAPIをコールしてくれることがわかります！</p><video src=/images/2019/aircon/actions-simulator.mov loading=lazy width=100% controls muted style="margin:30px 0 10px"><p>動画を再生するにはvideoタグをサポートしたブラウザが必要です。</p></video><h2 id=おわりに>おわりに</h2><p>そしてできたものが，冒頭の動画になります．これで朝活が捗りますね．</p><p>紹介したアーキテクチャはGoogle Home以外のスマートスピーカーでも応用できる部分だと思いますので，参考になれば幸いです．値段としても月に数十回のリクエストなのでほとんど無視できる額になると思います．</p><p>今後は必要に応じて</p><ul><li>タイマーのキャンセル</li><li>切タイマーの予約</li><li>時間指定ではなく，○分後での予約</li></ul><p>ができるようになると便利かなと考えています！</p><h2 id=宣伝>宣伝</h2><p>12/14・15で行われたYahoo!Japan主催のハッカソンであるHackDay2019に<a href=https://twitter.com/gutio_jp>@gutio_jp</a> と共に出場し，<a href="https://youtu.be/HNjXZwRTybU?t=7517">優勝しました</a>．その経験を踏まえ，相方が「<a href=https://qiita.com/taigamikami/items/7c6af445f1e62b0dad23>ハッカソンで優勝する技術</a>」という記事を書いたので，ぜひ読んで見て下さい！</p><h2 id=参考>参考</h2><ul><li><a href=https://dev.classmethod.jp/etc/serverless-framework-step-functions/>Serverless Frameworkで構築するStep Functions</a></li><li><a href=https://dev.classmethod.jp/cloud/aws/lambda-dynamic-scheduled-execution-by-stepfunctions/>StepFunctionsでLambdaの指定日時実行をしてみる</a></li><li><a href=https://vgaltes.com/post/step-functions-wait-state/>Wait state in AWS Step Functions using the serverless framework</a></li><li><a href=https://4009.jp/post/2018-06-29-dialogflow/>Dialogflowを使った音声対話形式のアプリを作ってみる vol.1</a></li><li><a href=%5Bhttps://medium.com/@mikachika/google-home%E5%90%91%E3%81%91%E3%82%A2%E3%83%97%E3%83%AA%E9%96%8B%E7%99%BA%E3%83%81%E3%83%A5%E3%83%BC%E3%83%88%E3%83%AA%E3%82%A2%E3%83%AB-1-%E3%83%BC%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AE%E4%BD%9C%E6%88%90-f577d706d8b6%5D(https://medium.com/@mikachika/google-home%E5%90%91%E3%81%91%E3%82%A2%E3%83%97%E3%83%AA%E9%96%8B%E7%99%BA%E3%83%81%E3%83%A5%E3%83%BC%E3%83%88%E3%83%AA%E3%82%A2%E3%83%AB-1-%E3%83%BC%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AE%E4%BD%9C%E6%88%90-f577d706d8b6)>Google Home向けアプリ開発チュートリアル(1)ープロジェクトの作成</a></li></ul></div></article><div id=disqus_thread></div><script type=application/javascript>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('disqus_thread').innerHTML='Disqus comments not available by default when the website is previewed locally.';return}var b=document,a=b.createElement('script');a.async=!0,a.src='//raahii.disqus.com/embed.js',a.setAttribute('data-timestamp',+new Date),(b.head||b.body).appendChild(a)})()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a><h3>こちらの記事もどうぞ</h3><ul class="related-content article-content"><li><a href=/posts/optional-parameters-in-go/>Goでオプショナルパラメータをどう扱うか</a></li><li><a href=/posts/read-file-faster-golang/>なぜioutil.ReadFileはioutil.ReadAllより速いか</a></li><li><a href=/posts/automating-hugo-builds-with-github-actions/>HugoのビルドをGithub Actionで自動化する</a></li><li><a href=/posts/permutations-in-go/>Goで順列（permutation）を実装する</a></li><li><a href=/posts/abc122/>ABC122 D - We Like AGC</a></li></ul></main><footer class=footer><ul class=footer-links><li><a href=https://gohugo.io/ class=footer-links-kudos>Made with <img src=https://raahii.github.io/images/hugo-logo.png width=22 height=22 alt="hugo log"></a></li></ul></footer></div><script async src="https://www.googletagmanager.com/gtag/js?id=G-D4N0KPT2K2"></script><script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-D4N0KPT2K2',{anonymize_ip:!1})}</script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.10.1/dist/katex.min.css integrity=sha384-dbVIfZGuN1Yq7/1Ocstc1lUEm+AT+/rCkibIcC/OmWo5f0EA48Vf8CytHzGrSwbQ crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.10.1/dist/katex.min.js integrity=sha384-2BKqo+exmr9su6dir+qCw08N2ZKRucY4PrGQPPWU1A7FtlCGjmEGFqXCv5nyM5Ij crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.10.1/dist/contrib/auto-render.min.js integrity=sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI crossorigin=anonymous onload=renderMathInElement(document.body)></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}]})})</script></body></html>